<!DOCTYPE html>
<html lang="en">
<head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Dell Master Worklist â€“ Persistent</title>
<style>
  :root{ --dellblue:#007DB8; --bg:#f6f7fb; --card:#ffffff; --muted:#6b7280; --border:#e5e7eb; --shadow:0 4px 14px rgba(0,0,0,0.08); --radius:16px; }
  html,body{margin:0;padding:0;background:var(--bg);font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,'Helvetica Neue',Arial,'Noto Sans',sans-serif;color:#111827}
  .container{padding:24px;max-width:1280px;margin:0 auto}
  .header{background:var(--dellblue);color:#fff;padding:24px;border-radius:var(--radius);box-shadow:var(--shadow)}
  .title{margin:0;font-weight:700;font-size:22px}.subtitle{margin:6px 0 0;opacity:.9;font-size:14px}
  .meta{margin-top:8px;font-size:12px;opacity:.9;display:flex;gap:8px;align-items:center;flex-wrap:wrap}
  .meta .chip{background:rgba(255,255,255,.15);border:1px solid rgba(255,255,255,.3);color:#fff;padding:2px 8px;border-radius:999px;font-size:12px}
  .controls{margin-top:24px;display:flex;gap:16px;flex-wrap:wrap;align-items:flex-end;justify-content:space-between}
  .left,.right{display:flex;gap:16px;align-items:flex-end;flex-wrap:wrap}
  .search{display:flex;align-items:center;gap:8px;background:#fff;border:1px solid var(--border);border-radius:10px;padding:8px 12px;min-width:300px;box-shadow:var(--shadow)}
  .search input{border:none;outline:none;width:100%;font-size:14px}.field{display:flex;flex-direction:column;gap:6px}.label{font-size:12px;color:var(--muted)}
  select,.btn,input[type="date"],.text,.input{background:#fff;border:1px solid var(--border);border-radius:10px;padding:8px 12px;font-size:14px}
  .btn{cursor:pointer}.btn.primary{background:var(--dellblue);color:#fff;border-color:var(--dellblue)}
  .view-toggle .btn.active{background:var(--dellblue);color:#fff;border-color:var(--dellblue)}
  .intake{background:#fff;border-radius:var(--radius);padding:24px;margin-top:24px;box-shadow:var(--shadow)}
  .grid{display:grid;grid-template-columns:repeat(1,minmax(0,1fr));gap:12px}@media(min-width:768px){.grid{grid-template-columns:repeat(2,minmax(0,1fr))}}
  .row2{grid-column:1/-1}.cards{display:grid;grid-template-columns:repeat(1,minmax(0,1fr));gap:24px;margin-top:24px}
  @media(min-width:768px){.cards{grid-template-columns:repeat(2,minmax(0,1fr))}}@media(min-width:1024px){.cards{grid-template-columns:repeat(3,minmax(0,1fr))}}@media(min-width:1280px){.cards{grid-template-columns:repeat(4,minmax(0,1fr))}}
  .card{background:var(--card);border-radius:var(--radius);box-shadow:var(--shadow);padding:16px}.card h3{margin:0;color:var(--dellblue);font-size:18px}
  .muted{color:var(--muted);font-size:13px;margin:2px 0}.badge{display:inline-block;padding:4px 10px;border-radius:999px;font-size:12px;margin-top:6px}
  .badge.active{background:#FEF3C7;color:#92400E}.badge.planned{background:#DBEAFE;color:#1E40AF}.badge.complete{background:#D1FAE5;color:#065F46}
  .warn{color:#B91C1C;font-weight:600;font-size:12px;margin-top:6px}.card-top{display:flex;justify-content:space-between;gap:8px;align-items:flex-start}
  .expand{border:none;background:transparent;cursor:pointer;padding:6px 8px;border-radius:8px}.expand:hover{background:#f3f4f6}
  .details{border-top:1px solid var(--border);margin-top:12px;padding-top:12px;font-size:14px;color:#374151}
  .chips{display:flex;flex-wrap:wrap;gap:8px;margin:8px 0}.chip{padding:4px 8px;border-radius:999px;font-size:12px;background:#E6F4FA;color:var(--dellblue);border:1px solid #BFE5F6}
  .table{background:#fff;border-radius:var(--radius);box-shadow:var(--shadow);overflow:hidden;margin-top:24px}table{width:100%;border-collapse:collapse}
  th,td{text-align:left;padding:10px 12px}thead{background:#f3f4f6;color:#374151}tbody tr{border-top:1px solid var(--border)}
  .actions{display:flex;gap:8px;flex-wrap:wrap}.copy{border:1px solid var(--border);background:#fff;border-radius:10px;padding:8px 12px;cursor:pointer}.hint{font-size:12px;color:#374151;opacity:.8}
</style>
</head>
<body>
<div class="container">
  <header class="header">
    <h1 class="title">Dell Master Worklist</h1>
    <p class="subtitle">Track projects and workstreams across business units</p>
    <div class="meta">
      <span class="chip">Local save: <strong>On</strong></span>
      <span class="hint">Your projects are saved to this browser (localStorage).</span>
      <button id="export" class="btn" style="color:#fff;background:transparent;border:1px solid rgba(255,255,255,.4)">Export JSON</button>
      <label class="btn" style="color:#fff;background:transparent;border:1px solid rgba(255,255,255,.4);cursor:pointer">Import JSON<input id="import" type="file" accept="application/json" style="display:none"></label>
      <button id="reset" class="btn" style="color:#fff;background:transparent;border:1px solid rgba(255,255,255,.4)">Reset demo data</button>
    </div>
  </header>

  <section class="controls">
    <div class="left">
      <div class="search"><span>ðŸ”Ž</span><input id="search" placeholder="Search projects, owners, units, categories..."/></div>
    </div>
    <div class="right">
      <label class="field"><span class="label">Filter by Status</span>
        <select id="f-status"><option>All</option><option>Active</option><option>Planned</option><option>Complete</option></select>
      </label>
      <label class="field"><span class="label">Filter by Business Unit</span>
        <select id="f-unit"><option>All</option><option>Services</option><option>Customer Support</option><option>Product Development</option><option>Sales</option><option>HR</option><option>IT</option><option>Analytics</option><option>Partnerships</option><option>Learning & Development</option><option>Security</option></select>
      </label>
      <label class="field"><span class="label">Filter by Category</span>
        <select id="f-cat"><option>All</option><option>Training</option><option>Products</option><option>Services</option><option>Process</option><option>Innovation</option></select>
      </label>
      <label class="field"><span class="label">Sort</span>
        <select id="sort">
          <option value="status">Status (Active â†’ Planned â†’ Complete)</option>
          <option value="startDate">Start Date (earliest first)</option>
          <option value="endDate">End Date (earliest first)</option>
          <option value="owner">Owner (Aâ€“Z)</option>
          <option value="title">Title (Aâ€“Z)</option>
          <option value="unit">Business Unit (Aâ€“Z)</option>
          <option value="category">Category (Aâ€“Z)</option>
        </select>
      </label>
      <div class="view-toggle"><button id="view-grid" class="btn active">â–¦ Grid</button><button id="view-list" class="btn">â‰£ List</button></div>
      <button id="toggle-intake" class="btn primary">+ Add Project</button>
    </div>
  </section>

  <section class="intake" id="intake" style="display:none">
    <h2 style="margin:0 0 12px;color:#007DB8;font-size:20px;">New Project Intake</h2>
    <div class="grid">
      <input id="i-title" class="input" placeholder="Project Title"/>
      <input id="i-owner" class="input" placeholder="Owner(s)"/>
      <input id="i-email" class="input" placeholder="Owner Email"/>
      <input id="i-unit" class="input" placeholder="Business Unit / Function"/>
      <input id="i-start" type="date" class="input" placeholder="Start Date"/>
      <input id="i-end" type="date" class="input" placeholder="End Date"/>
      <select id="i-status" class="input"><option>Planned</option><option>Active</option><option>Complete</option></select>
      <select id="i-category" class="input"><option>Training</option><option>Products</option><option>Services</option><option>Process</option><option>Innovation</option></select>
      <input id="i-tags" class="input" placeholder="Tags / Keywords"/>
      <input id="i-tools" class="input" placeholder="Related Tools or Systems"/>
      <textarea id="i-desc" class="text row2" placeholder="Short Description" rows="4"></textarea>
      <input id="i-collab" class="input row2" placeholder="Collaboration needs (comma-separated e.g., Design, Legal, PMM)"/>
    </div>
    <label style="display:flex;align-items:center;gap:8px;margin-top:12px;font-size:14px;"><input id="i-collabtoggle" type="checkbox"/> Needs Collaboration Support</label>
    <div style="display:flex;gap:8px;margin-top:12px;"><button id="i-submit" class="btn primary">Submit</button><button id="i-cancel" class="btn">Cancel</button></div>
  </section>

  <section id="content"></section>
</div>

<script>
(function(){
  const STORAGE_KEY = 'dell_worklist_projects_v1';
  const seed = [
    { title:'Unified Service Platform', owner:'Sarah Malik', ownerEmail:'sarah.malik@dell.com', unit:'Services', start:'02/01/2025', end:'12/01/2025', status:'Active', category:'Services', collaboration:false, collaborationNeeds:['SSO','APIs'], description:'Consolidate legacy service portals...' },
    { title:'AI-Powered Customer Support Tool', owner:'John Chen', ownerEmail:'john.chen@dell.com', unit:'Customer Support', start:'04/15/2025', end:'10/30/2025', status:'Planned', category:'Products', collaboration:true, collaborationNeeds:['Design','PMM','CRM'], description:'Develop an agent-assist copilot...' },
    { title:'New Product Launch Initiative', owner:'Priya Singh, Anil Rao', ownerEmail:'priya.singh@dell.com', unit:'Product Development', start:'01/01/2025', end:'06/15/2025', status:'Complete', category:'Process', collaboration:false, collaborationNeeds:['Legal','Finance'], description:'Cross-functional launch playbook...' },
    { title:'Sales Pipeline Optimization', owner:'David Murphy', ownerEmail:'david.murphy@dell.com', unit:'Sales', start:'03/10/2025', end:'09/20/2025', status:'Active', category:'Training', collaboration:false, collaborationNeeds:['Analytics','Sales Ops'], description:'Revamp lead qualification...' },
    { title:'Employee Training Portal Upgrade', owner:'Emily Carter', ownerEmail:'emily.carter@dell.com', unit:'HR', start:'05/01/2025', end:'11/01/2025', status:'Planned', category:'Training', collaboration:false, collaborationNeeds:['UX','Content'], description:'Migrate LMS to a modern UI...' },
    { title:'Cloud Migration Initiative', owner:'Michael Lee', ownerEmail:'michael.lee@dell.com', unit:'IT', start:'02/15/2025', end:'08/15/2025', status:'Active', category:'Process', collaboration:false, collaborationNeeds:['SRE','Cost Governance'], description:'Lift-and-shift of tier-2 apps...' },
    { title:'Customer Insights Dashboard', owner:'Sophia Patel', ownerEmail:'sophia.patel@dell.com', unit:'Analytics', start:'03/01/2025', end:'07/30/2025', status:'Planned', category:'Innovation', collaboration:false, collaborationNeeds:['Data Viz','Privacy'], description:'Self-serve analytics...' },
    { title:'Partner Ecosystem Expansion', owner:'James Wong', ownerEmail:'james.wong@dell.com', unit:'Partnerships', start:'04/01/2025', end:'12/15/2025', status:'Active', category:'Services', collaboration:true, collaborationNeeds:['Legal','Finance','PMM'], description:'Recruit and onboard partners...' },
    { title:'AI Training Program for Managers', owner:'Laura Green', ownerEmail:'laura.green@dell.com', unit:'Learning & Development', start:'06/01/2025', end:'09/01/2025', status:'Planned', category:'Training', collaboration:false, collaborationNeeds:['SMEs','Comms'], description:'Manager-focused curriculum...' },
    { title:'Cybersecurity Policy Overhaul', owner:'Robert Hill', ownerEmail:'robert.hill@dell.com', unit:'Security', start:'01/10/2025', end:'05/20/2025', status:'Complete', category:'Process', collaboration:false, collaborationNeeds:['Audit','Comms'], description:'Updated policies for zero trust...' }
  ];

  function load(){ try{ const raw=localStorage.getItem(STORAGE_KEY); return raw?JSON.parse(raw):seed.slice(); }catch(e){ return seed.slice(); } }
  function save(arr){ try{ localStorage.setItem(STORAGE_KEY, JSON.stringify(arr)); }catch(e){} }
  function exportJSON(arr){ const blob=new Blob([JSON.stringify(arr,null,2)],{type:'application/json'}); const a=document.createElement('a'); a.href=URL.createObjectURL(blob); a.download='worklist-projects.json'; document.body.appendChild(a); a.click(); a.remove(); }
  function esc(s){ return String(s).replace(/[&<>"']/g, c=>({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[c])); }
  const state={ search:'', fStatus:'All', fUnit:'All', fCat:'All', sort:'status', view:'grid', expanded:{}, projects:load() };
  const qs=s=>document.querySelector(s), content=qs('#content'), intake=qs('#intake'), btnToggleIntake=qs('#toggle-intake');

  function parseDate(d){ if(!d) return 0; if(/^\d{4}-\d{2}-\d{2}$/.test(d)) return new Date(d).getTime(); const p=d.split('/'); if(p.length===3){return new Date(p[2]+'-'+p[0].padStart(2,'0')+'-'+p[1].padStart(2,'0')).getTime()} const t=Date.parse(d); return isNaN(t)?0:t; }
  function getVisible(){ const term=state.search.trim().toLowerCase(); let arr=state.projects.filter(p=>{ const m=(state.fStatus==='All'||p.status===state.fStatus)&&(state.fUnit==='All'||p.unit===state.fUnit)&&(state.fCat==='All'||p.category===state.fCat); if(!m) return false; if(!term) return true; const hay=[p.title,p.owner,p.unit,p.category,p.description,p.collaboration?'collaboration':''].concat(p.collaborationNeeds||[]).join(' ').toLowerCase(); return hay.includes(term); }); switch(state.sort){ case 'status':{const o={Active:0,Planned:1,Complete:2}; arr.sort((a,b)=>(o[a.status]-o[b.status])||(parseDate(a.start)-parseDate(b.start)));break;} case 'startDate':arr.sort((a,b)=>parseDate(a.start)-parseDate(b.start));break; case 'endDate':arr.sort((a,b)=>parseDate(a.end)-parseDate(b.end));break; case 'owner':arr.sort((a,b)=>a.owner.localeCompare(b.owner));break; case 'title':arr.sort((a,b)=>a.title.localeCompare(b.title));break; case 'unit':arr.sort((a,b)=>a.unit.localeCompare(b.unit));break; case 'category':arr.sort((a,b)=>a.category.localeCompare(b.category));break; } return arr; }
  function render(){ if(state.view==='grid'){ content.innerHTML='<div class="cards" id="cards"></div>'; const m=qs('#cards'); getVisible().forEach((p,i)=>m.appendChild(card(p,i))); } else { content.innerHTML=''; content.appendChild(table(getVisible())); } }
  function card(p,i){ const c=document.createElement('div'); c.className='card'; const s=p.status==='Active'?'active':(p.status==='Planned'?'planned':'complete'); c.innerHTML=`<div class="card-top"><div><h3>${esc(p.title)}</h3><p class="muted">${esc(p.owner)}</p><p class="muted">${esc(p.unit)}</p><p class="muted"><strong>Category:</strong> ${esc(p.category)}</p><p class="muted"><strong>Start:</strong> ${esc(p.start)}</p><p class="muted"><strong>End:</strong> ${esc(p.end)}</p><span class="badge ${s}">${esc(p.status)}</span>${p.collaboration?'<p class="warn">âš  Needs Collaboration Support</p>':''}</div><button class="expand">${state.expanded[i]?'â–² Hide details':'â–¼ More details'}</button></div>`; c.querySelector('.expand').addEventListener('click',()=>{state.expanded[i]=!state.expanded[i];render();}); if(state.expanded[i]){ const d=document.createElement('div'); d.className='details'; d.innerHTML=`<p>${esc(p.description||'')}</p>${(p.collaborationNeeds&&p.collaborationNeeds.length)?`<div><p class="muted" style="font-size:12px;margin:8px 0 6px;">Collaboration needs</p><div class="chips">${p.collaborationNeeds.map(x=>`<span class="chip">${esc(x)}</span>`).join('')}</div></div>`:''}<div class="actions"><a class="btn primary" href="mailto:${encodeURIComponent(p.ownerEmail)}?subject=${encodeURIComponent('Collaboration support for '+p.title)}&body=${encodeURIComponent('Hi, can we connect on this project? Here are the collaboration needs: ')}">âœ‰ Email Owner for Collaboration</a><button class="copy">Copy Owner Email</button></div>`; d.querySelector('.copy').addEventListener('click',()=>{ if(navigator.clipboard) navigator.clipboard.writeText(p.ownerEmail); }); c.appendChild(d);} return c; }
  function table(items){ const w=document.createElement('div'); w.className='table'; const tbl=document.createElement('table'); tbl.innerHTML=`<thead><tr><th>Project Title</th><th>Owner(s)</th><th>Business Unit</th><th>Category</th><th>Start Date</th><th>End Date</th><th>Status</th><th>Collaboration</th><th>Details</th></tr></thead><tbody>${items.map((p,i)=>`<tr><td>${esc(p.title)}</td><td>${esc(p.owner)}</td><td>${esc(p.unit)}</td><td>${esc(p.category)}</td><td>${esc(p.start)}</td><td>${esc(p.end)}</td><td>${esc(p.status)}</td><td>${p.collaboration?'âš  Yes':'No'}</td><td><button class="expand" data-idx="${i}">${state.expanded['t'+i]?'â–² Hide details':'â–¼ More details'}</button></td></tr>${state.expanded['t'+i]?`<tr style="background:#f9fafb"><td colspan="9"><div class="details" style="border-top:none;margin-top:0;"><p>${esc(p.description||'')}</p>${(p.collaborationNeeds&&p.collaborationNeeds.length)?`<div><p class="muted" style="font-size:12px;margin:8px 0 6px;">Collaboration needs</p><div class="chips">${p.collaborationNeeds.map(x=>`<span class="chip">${esc(x)}</span>`).join('')}</div></div>`:''}<div class="actions" style="margin-top:8px;"><a class="btn primary" href="mailto:${encodeURIComponent(p.ownerEmail)}?subject=${encodeURIComponent('Collaboration support for '+p.title)}&body=${encodeURIComponent('Hi, can we connect on this project? Here are the collaboration needs: ')}">âœ‰ Email Owner</a><button class="copy" data-email="${esc(p.ownerEmail)}">Copy Owner Email</button></div></div></td></tr>`:''}`).join('')}</tbody>`; w.appendChild(tbl); w.querySelectorAll('button.expand').forEach(btn=>{ btn.addEventListener('click',e=>{ const i=e.currentTarget.getAttribute('data-idx'); state.expanded['t'+i]=!state.expanded['t'+i]; render(); });}); w.querySelectorAll('button.copy').forEach(btn=>{ btn.addEventListener('click',e=>{ const email=e.currentTarget.getAttribute('data-email'); if(navigator.clipboard) navigator.clipboard.writeText(email); });}); return w; }
  // Controls
  document.getElementById('search').addEventListener('input',e=>{state.search=e.target.value;render();});
  document.getElementById('f-status').addEventListener('change',e=>{state.fStatus=e.target.value;render();});
  document.getElementById('f-unit').addEventListener('change',e=>{state.fUnit=e.target.value;render();});
  document.getElementById('f-cat').addEventListener('change',e=>{state.fCat=e.target.value;render();});
  document.getElementById('sort').addEventListener('change',e=>{state.sort=e.target.value;render();});
  document.getElementById('view-grid').addEventListener('click',()=>{state.view='grid';document.getElementById('view-grid').classList.add('active');document.getElementById('view-list').classList.remove('active');render();});
  document.getElementById('view-list').addEventListener('click',()=>{state.view='list';document.getElementById('view-list').classList.add('active');document.getElementById('view-grid').classList.remove('active');render();});
  // Intake
  document.getElementById('toggle-intake').addEventListener('click',()=>{ const el=document.getElementById('intake'); const open=el.style.display!=='none'; el.style.display=open?'none':'block'; document.getElementById('toggle-intake').textContent=open?'+ Add Project':'Close Intake Form'; if(!open) clearIntake(); });
  document.getElementById('i-submit').addEventListener('click',()=>{ addFromIntake(); document.getElementById('intake').style.display='none'; document.getElementById('toggle-intake').textContent = '+ Add Project'; clearIntake(); });
  document.getElementById('i-cancel').addEventListener('click',()=>{ document.getElementById('intake').style.display='none'; document.getElementById('toggle-intake').textContent = '+ Add Project'; clearIntake(); });
  // Export/Import/Reset
  document.getElementById('export').addEventListener('click',()=>exportJSON(state.projects));
  document.getElementById('import').addEventListener('change',async (e)=>{ const f=e.target.files?.[0]; if(!f) return; try{ const txt=await f.text(); const arr=JSON.parse(txt); if(!Array.isArray(arr)) throw new Error('Invalid JSON'); state.projects=arr; save(state.projects); render(); alert('Import successful.'); }catch(err){ alert('Import failed: '+err.message); } finally{ e.target.value=''; } });
  document.getElementById('reset').addEventListener('click',()=>{ if(confirm('Reset to demo data?')){ state.projects = JSON.parse(JSON.stringify(seed)); save(state.projects); render(); } });
  function clearIntake(){ ['i-title','i-owner','i-email','i-unit','i-start','i-end','i-status','i-category','i-tags','i-tools','i-desc','i-collab','i-collabtoggle'].forEach(id=>{ const el=document.getElementById(id); if(!el) return; if(el.type==='checkbox') el.checked=false; else if(el.tagName==='SELECT') el.selectedIndex=0; else el.value=''; }); }
  function addFromIntake(){ const title=val('i-title','Untitled Project'), owner=val('i-owner','TBD'), ownerEmail=val('i-email',''), unit=val('i-unit','TBD'), start=val('i-start',new Date().toLocaleDateString()), end=val('i-end',''), status=val('i-status','Planned'), category=val('i-category','Process'), description=val('i-desc',''), collabNeeds=val('i-collab','').split(',').map(s=>s.trim()).filter(Boolean), collaboration=checked('i-collabtoggle'); state.projects.push({title,owner,ownerEmail,unit,start,end,status,category,collaboration,collaborationNeeds:collabNeeds,description}); save(state.projects); render(); if(state.view==='grid'){ window.scrollTo({top:document.body.scrollHeight,behavior:'smooth'}); } }
  function val(id,def){ const el=document.getElementById(id); return el&&el.value?el.value:def; } function checked(id){ const el=document.getElementById(id); return !!(el&&el.checked); }
  render();
})();
</script>
</body></html>
